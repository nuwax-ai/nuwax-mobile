# kux-marked 扩展功能演示页面

本文档介绍 `kux-marked` 扩展功能的演示页面，包括功能展示和实际测试。

## 📁 文件结构

```
examples/
├── kux-marked-extensions-demo.uvue      # 扩展功能展示页面
├── kux-marked-parser-test.uvue         # 解析功能测试页面
└── KUX_MARKED_EXTENSIONS_README.md     # 本文档
```

## 🎯 演示页面功能

### 1. 扩展功能展示页面 (`kux-marked-extensions-demo.uvue`)

这是一个静态展示页面，用于展示 `kux-marked` 支持的各种扩展功能：

#### 📐 数学公式扩展
- **行内公式**: `$E = mc^2$` 和 `\( \frac{a}{b} \)`
- **块级公式**: `$$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$` 和 `\[ \sum_{i=1}^{n} x_i \]`

#### 📊 Mermaid图表扩展
- **流程图**: 展示决策流程和操作步骤
- **时序图**: 展示用户与系统的交互过程
- **饼图**: 展示数据分布和比例

#### ⚠️ 警告框扩展
- **NOTE**: 一般性信息提示
- **TIP**: 有用的建议或技巧
- **IMPORTANT**: 重要信息
- **WARNING**: 警告信息
- **CAUTION**: 需要小心的情况

#### 📦 容器区块扩展
- **tip**: 提示容器
- **warning**: 警告容器
- **info**: 信息容器
- **code**: 代码容器

#### 🔀 混合内容演示
展示各种扩展功能在同一文档中的混合使用效果。

### 2. 解析功能测试页面 (`kux-marked-parser-test.uvue`)

这是一个交互式测试页面，用于实时测试 `kux-marked` 的解析功能：

#### 📝 输入区域
- 支持输入自定义 Markdown 内容
- 实时编辑和预览

#### 📊 解析结果展示
- **Token 信息**: 显示解析后的 Token 数量和类型
- **Token 列表**: 详细的 Token 信息，支持点击查看详情
- **扩展功能检测**: 自动检测内容中使用的扩展功能

#### 📚 示例内容
提供多种预设示例内容：
- 数学公式示例
- Mermaid图表示例
- 警告框示例
- 容器示例
- 混合内容示例

#### 🔍 Token 详情弹窗
点击任意 Token 可查看详细信息：
- Token 类型
- 原始内容
- 文本内容
- 子 Token 数量
- 扩展特定属性（数学类型、警告类型、容器类型、图表类型等）

## 🚀 使用方法

### 访问演示页面

1. **扩展功能展示页面**:
   ```
   /examples/kux-marked-extensions-demo
   ```

2. **解析功能测试页面**:
   ```
   /examples/kux-marked-parser-test
   ```

### 测试扩展功能

1. **加载示例内容**: 点击相应的示例按钮加载预设内容
2. **解析内容**: 点击"解析内容"按钮开始解析
3. **查看结果**: 在解析结果区域查看 Token 信息和扩展功能检测结果
4. **深入分析**: 点击 Token 查看详细信息

### 自定义测试

1. **输入自定义内容**: 在文本框中输入包含扩展功能的 Markdown 内容
2. **实时解析**: 点击解析按钮查看结果
3. **调试分析**: 通过 Token 详情分析解析过程

## 🔧 技术特性

### 扩展注册机制
- 自动注册默认扩展
- 支持自定义扩展
- 扩展优先级管理

### 解析流程
1. **词法分析**: 将 Markdown 文本分解为 Token
2. **扩展处理**: 应用注册的扩展规则
3. **Token 生成**: 生成结构化的 Token 数组

### 扩展类型支持
- **块级扩展**: 处理块级元素（数学块、Mermaid图表、容器等）
- **行内扩展**: 处理行内元素（数学公式、警告框等）

## 📊 扩展功能统计

| 扩展类型 | 状态 | 支持语法 | 优先级 |
|---------|------|----------|--------|
| 数学公式 | ✅ 已启用 | `$...$`, `\(...\)`, `$$...$$`, `\[...\]` | 100/90 |
| Mermaid图表 | ✅ 已启用 | `\`\`\`mermaid` | 80 |
| 警告框 | ✅ 已启用 | `> [!TYPE]` | 70 |
| 容器区块 | ✅ 已启用 | `::: type` | 60 |

## 🎨 界面特性

### 响应式设计
- 支持不同屏幕尺寸
- 移动端友好的触摸交互
- 自适应布局

### 视觉设计
- 现代化的卡片式设计
- 清晰的层次结构
- 直观的颜色编码
- 优雅的动画效果

### 交互体验
- 实时反馈
- 直观的操作流程
- 详细的结果展示
- 便捷的示例加载

## 🔍 调试和开发

### 控制台输出
页面加载时会在控制台输出：
- 扩展注册信息
- 已注册的扩展列表
- 扩展统计信息

### 解析测试
测试各种扩展功能时会输出：
- 解析过程日志
- Token 生成结果
- 扩展功能检测结果

### 错误处理
- 解析失败时的友好提示
- 详细的错误信息
- 优雅的降级处理

## 📚 相关文档

- [kux-marked 扩展架构使用指南](../uni_modules/kux-marked/README_EXTENSIONS.md)
- [kux-marked 核心功能文档](../uni_modules/kux-marked/readme.md)
- [扩展接口定义](../uni_modules/kux-marked/utssdk/ExtensionTokens.interface.uts)

## 🆘 常见问题

### Q: 扩展功能没有生效？
A: 检查扩展是否正确注册，查看控制台输出的扩展信息。

### Q: 解析结果为空？
A: 确保输入内容包含有效的 Markdown 语法，检查是否有语法错误。

### Q: 特定扩展不工作？
A: 验证语法格式是否正确，参考示例内容进行对比。

### Q: 页面加载缓慢？
A: 检查网络连接，确保所有依赖文件正常加载。

## 🔄 更新日志

### v1.0.0 (2025-01-XX)
- 初始版本发布
- 支持数学公式、Mermaid图表、警告框、容器区块扩展
- 完整的演示和测试功能
- 响应式设计和现代化界面

## 📞 技术支持

如果在使用过程中遇到问题，可以：
1. 查看控制台错误信息
2. 参考相关文档
3. 对比示例内容
4. 检查扩展注册状态

---

**注意**: 这些演示页面展示了 `kux-marked` 的扩展功能，实际使用时请根据项目需求进行相应的配置和定制。
