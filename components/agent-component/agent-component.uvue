<!-- 智能体卡片组件 -->
<template>
	<view class='card-container' @click="handleClick">
		<image :src="icon" class='agent-icon' />
		<view class='info-box'>
			<view class='agent-info'>
				<text class='agent-name'>{{name}}</text>
				<text class='agent-creator'>{{userName || '未知'}}</text>
			</view>
			<text class='agent-description text-ellipsis'>{{description}}</text>
			<view class='agent-stats'>
				<view class='stat-item'>
					<image :src="iconUser" class='stat-icon' />
					<text class='stat-value'>{{userCount || 0}}</text>
				</view>
				<view class='stat-item'>
					<image :src="iconMessage" class='stat-icon' />
					<text class='stat-value'>{{convCount || 0}}</text>
				</view>
				<view class='stat-item'>
					<image :src="iconStar" class='stat-icon' />
					<text class='stat-value'>{{collectCount || 0}}</text>
				</view>
			</view>
		</view>
	</view>
</template>

<script setup lang="uts">
	import iconUser from '@/static/assets/icon_user.png'
	import iconMessage from '@/static/assets/icon_message.png'
	import iconStar from '@/static/assets/icon_star.png'

	interface AgentComponentProps {
		// 图标
		icon: string
		// 名称
		name:string
		// 发布人
		userName:string
		// 描述
		description:string
		// 用户数
		userCount:number
		// 对话数
		convCount:number
		// 收藏数
		collectCount:number
	}

	const props = defineProps<AgentComponentProps>()
	const emit = defineEmits(['click'])

	const handleClick = () => {
		emit('click')
	}

	
</script>

<style scoped lang="scss">
	.card-container {
		gap: 24rpx;
		display: flex;
		flex-direction: row;
		padding: 24rpx 16rpx;
		margin-bottom: 24rpx;
		// #ifdef H5
		cursor: pointer;
		// #endif
		transform: translateZ(0);
		border-radius: 8rpx;
		transition: background-color 0.3s ease;

		&:active, &:hover {
			background-color: rgba(12, 20, 102, 0.04);
		}

		.agent-icon {
			width: 96rpx;
			height: 96rpx;
			border-radius: 50%;
			flex-shrink: 0;
			overflow: hidden;
		}

		.info-box {
			flex: 1;
			gap: 8rpx;
			display: flex;
			flex-direction: column;
			overflow: hidden;

			.agent-info {
				display: flex;
				align-items: center;
				flex-direction: row;
				gap: 32rpx;

				.agent-name {
					flex: 1;
					line-height: 48rpx;
					font-size: 32rpx;
					font-weight: 600;
					color: #15171F;
					overflow: hidden;
					text-overflow: ellipsis;
					white-space: nowrap;
				}

				.agent-creator {
					max-width: 50%;
					line-height: 48rpx;
					font-size: 24rpx;
					color: rgba(21, 23, 31, 0.50);
					overflow: hidden;
					text-overflow: ellipsis;
					white-space: nowrap;
				}
			}
		}

		.agent-description {
			font-size: 28rpx;
			color: rgba(21, 23, 31, 0.70);
			line-height: 44rpx;
			font-weight: 400;
		}

		.agent-stats {
			display: flex;
			align-items: center;
			flex-direction: row;
			gap: 30rpx;

			.stat-item {
				display: flex;
				align-items: center;
				flex-direction: row;
				gap: 8rpx;

				.stat-icon {
					width: 32rpx;
					height: 32rpx;
				}

				.stat-value {
					font-size: 24rpx;
					color: rgba(21, 23, 31, 0.50);
					font-weight: 400;
				}
			}
		}
	}
</style>