/**
 * æ ¹æ®æ–‡ä»¶åè·å–æ–‡ä»¶å›¾æ ‡ä¿¡æ¯
 * @param fileName æ–‡ä»¶å
 * @returns å›¾æ ‡ä¿¡æ¯å¯¹è±¡ï¼ŒåŒ…å«å›¾æ ‡ç±»å‹å’Œæ˜¾ç¤ºæ–‡æœ¬
 */
export interface FileIconInfo {
  type: 'icon' | 'text'
  value: string
  className?: string
}

export function getFileIcon(fileName: string): FileIconInfo {
  if (!fileName || fileName.length === 0) {
    return { type: 'text', value: 'ğŸ“„' }
  }

  const ext = fileName.split('.').pop()?.toLowerCase() || ''
  
  // å›¾ç‰‡æ–‡ä»¶
  if (['png', 'jpg', 'jpeg', 'gif', 'bmp', 'webp', 'svg', 'ico'].includes(ext)) {
    return { type: 'icon', value: 'icon-Image', className: 'iconfont' }
  }
  
  // TypeScript æ–‡ä»¶
  if (['ts', 'tsx'].includes(ext)) {
    return { type: 'text', value: 'TS' }
  }
  
  // JavaScript æ–‡ä»¶
  if (['js', 'jsx', 'mjs', 'cjs'].includes(ext)) {
    return { type: 'text', value: 'JS' }
  }
  
  // CSS æ–‡ä»¶
  if (['css', 'less', 'scss', 'sass'].includes(ext)) {
    return { type: 'text', value: '#' }
  }
  
  // JSON æ–‡ä»¶
  if (['json', 'jsonc'].includes(ext)) {
    return { type: 'text', value: '{}' }
  }
  
  // HTML æ–‡ä»¶
  if (['html', 'htm'].includes(ext)) {
    return { type: 'text', value: 'ğŸŒ' }
  }
  
  // Markdown æ–‡ä»¶
  if (['md', 'markdown'].includes(ext)) {
    return { type: 'text', value: 'ğŸ“' }
  }
  
  // é…ç½®æ–‡ä»¶
  if (['config', 'conf', 'ini', 'toml', 'yaml', 'yml'].includes(ext)) {
    return { type: 'text', value: 'âš™ï¸' }
  }
  
  // é»˜è®¤æ–‡ä»¶å›¾æ ‡
  return { type: 'text', value: 'ğŸ“„' }
}

